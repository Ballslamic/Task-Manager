<% include layout %>

<div class="categories-list">
    <h2>Manage Categories</h2>
    <ul>
        <% categories.forEach(category => { %>
            <li>
                <strong><%= category.name %></strong> - <span style="background-color: <%= category.colorCode %>;">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <!-- Edit and Delete buttons -->
                <form action="/categories/edit/<%= category._id %>" method="POST" style="display:inline;">
                    <input type="text" name="categoryName" value="<%= category.name %>" required>
                    <input type="color" name="colorCode" value="<%= category.colorCode %>" required>
                    <button type="submit">Edit</button>
                </form>
                <form action="/categories/delete/<%= category._id %>" method="POST" style="display:inline;">
                    <button type="submit">Delete</button>
                </form>
            </li>
        <% }); %>
    </ul>
</div>

<div class="add-category">
    <h2>Add New Category</h2>
    <form action="/categories/add" method="POST">
        <input type="text" name="categoryName" placeholder="Category name" required>
        
        <label for="colorCode">Color Code:</label>
        <input type="color" name="colorCode" value="#ffffff" required>

        <button type="submit">Add Category</button>
    </form>
</div>
